#!/bin/bash
# Remote VM configuration for PPO training execution
# Target: Metasploitable2 VM (vulnerable training environment)

# VM connection details
export RL_VM_HOST="192.168.1.100"          # Metasploitable2 VM IP address
export RL_VM_PORT="22"                     # SSH port (default: 22)
export RL_VM_USER="msfadmin"               # Metasploitable2 default user
export RL_VM_PASSWORD="msfadmin"           # Metasploitable2 default password

# Authentication (choose ONE method):
# Method 1: Password (Metasploitable2 default)
export RL_VM_PASSWORD="msfadmin"

# Method 2: SSH key (if you've configured one)
# export RL_VM_KEY_PATH="~/.ssh/metasploitable2_key"

# VM Python environment
export RL_VM_PYTHON="python"               # Metasploitable2 uses Python 2.x by default
export RL_VM_WORKSPACE="/tmp/auvap_rl"     # Temporary workspace on VM

# Note: Metasploitable2 is intentionally vulnerable and should ONLY be used
# in isolated lab environments. Never expose it to untrusted networks.

# Usage:
# 1. Start Metasploitable2 VM and note its IP address
# 2. Update RL_VM_HOST above with the correct IP
# 3. Load configuration: source rl/vm_config.env
# 4. Test connection: python rl/test_vm_connection.py
# 5. Train PPO: python main.py --nessus scan.nessus --config rules.json --rl-mode train
